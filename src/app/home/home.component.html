<div class="fixed-content" appWatchHeight (heightChange)="fixedHeight = $event" [style.transition]="statusBarService.animate ? 'padding-top 1s' : null" [style.padding-top]="statusBarService.currentStatus.height + 'px'" >
  <app-loading *ngIf="!(apiService.latest | async)"></app-loading>
  <app-image-cover [src]="(apiService.latest | async)?.image" class="primary-image"></app-image-cover>
  <header class="header">
    <h1 class="title">{{ (apiService.latest | async)?.title }}</h1>
    <div class="blurb">{{ (apiService.latest | async)?.blurb }} <a *ngIf="apiService.latest | async" [routerLink]="['/recipe', (apiService.latest | async)?.slug]" appAxFocus01Fix>View&nbsp;Recipe</a></div>
    <app-labels (change)="wh.updateHeight()" [labels]="(apiService.latest | async)?.labels"></app-labels>
  </header>
</div>

<div class="home-content" [style.transition]="statusBarService.animate ? 'margin-top 1s' : null" [style.margin-top]="(fixedHeight + statusBarService.currentStatus.height) + 'px'" >
  <app-sticky-scroll #stickyScroll [stickyOffset]="fixedHeight">
    <app-filter (change)="filterStamp = $event; onFilterUpdate(fixedHeight)" (update)="filterValues = $event" (drawerEvent)="stickyScroll.manualHeightCheck()" [filterItems]="(apiService.filterOptions | async)?.items"></app-filter>  
  </app-sticky-scroll>
  <div class="info-bar">
    <h1>Let's get cookin'</h1>
  </div>
  <div class="recipes">
    <div *ngFor="let recipe of apiService.recipes | async | filter:filterStamp:filterValues:filteredMeta; let i = index" class="app-recipe-ad">
      <a [routerLink]="['/recipe', recipe.slug]">
        <app-recipe-ad [recipe]="recipe" [index]="i"></app-recipe-ad>
      </a>
    </div>
    <div *ngIf="(apiService.recipes | async) !== undefined && filteredMeta?.count === 0" class="no-results">
        No matches for {{filteredMeta.query}}
    </div>
  </div>
</div>
